# tail 功能

- go实现的tail -f功能
- 对tail的增强
- 同时监听处理百万级tail文件
- tailDir 对目录级使用tail


## tailD

目录tail，以若干文件tail组成并管理

自身具有实时监听新文件产生的能力

## tailF

文件tail，实时监听文件的写入，并读取


tailF拉不起来不属于致命错误，
在等待短暂的时间后仍然拉不起来，则传递错误到管道中，放弃继续拉起的操作

## 设计说明

tail - tailDir 直接由内容匹配器进行最终关联

1. tail负责读取到一行数据
2. 将行内容经过内容匹配器匹配
3. 匹配成功的放入tailDir的Lines，失败的不管

## TODO
1. 统一发送行的方法
2. 统一发送非致命错误方法
3. ~~监听新文件建立文件tailF~~
4. tailF读取功能实现
5. tailF操作过程中错误传递
6. tailF清理方法
7. tailD业务功能
   1. 增加关键字
   2. 删除关键字
   3. 暂停tail - 需要保存现场
   4. 停止
   5. 重置
8. inotify跟踪